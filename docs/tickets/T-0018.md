# T-0018 — Booking widget estilo Airbnb (pill selector)

Title: Booking widget estilo Airbnb (pill selector)
Priority: B
Area: UX / Frontend
Owner Role: Planner / Implementer / Reviewer / QA

Problem (Evidence):
- El widget público no refleja el patrón de selector tipo “pill” (Airbnb) para elegir clase/fecha/coach.
- La secuencia ideal de selección es: clase/sesión → fecha y hora → coach preferido, antes de pago.

Goal:
- Reordenar y estilizar el widget público con un selector “pill” y campos claros para clase, fecha/hora y coach.

Scope (In/Out):
- In: actualización UI/UX del widget público, orden de selección, estilo pill, summary visible.
- Out: cambios de backend o lógica de disponibilidad.

Acceptance Criteria (Given/When/Then):
1. Given un usuario en el booking público, When ve el widget, Then existe un selector pill con Clase/Sesión, Fecha y hora, y Coach.
2. Given una clase seleccionada, When elige fecha/hora y coach, Then el resumen muestra las selecciones antes de continuar al pago.
3. Given vista móvil, When se interactúa con el pill, Then no hay overflow ni targets de toque pequeños.

Implementation Plan (≤15 bullets):
- [x] Diseñar el pill selector y estados activos.
- [x] Reordenar secciones para clase → fecha/hora → coach.
- [x] Incluir preferencia de coach en el resumen y envío de la reserva.
- [x] Ajustar estilos para mantener el look “Airbnb-like”.

Implementation
### Files touched
- apps/web/src/app/book/[slug]/page.tsx
- apps/web/src/app/book/[slug]/BookingWidget.module.css

### Test evidence
- Unit/integration: no aplica (UI-only)
- Manual flow tested: no ejecutado (no solicitado)
- Capturas/logs (si aplica): pendiente

### Security checks
- [x] No exponer datos sensibles en UI
- [x] Mantener rutas públicas sin fuga de tokens

### UX checks
- [x] Tokens/consistencia
- [x] Estados vacíos
- [x] Loading/skeleton
- [x] Accesibilidad (focus/aria)

## Status
- Estado: DONE
- Owner (agente): GPT-5.2-Codex
- Fecha: 2026-01-20
